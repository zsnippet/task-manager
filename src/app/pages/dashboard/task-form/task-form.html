<div class="max-w-2xl mx-auto p-6 pt-20">
  <!-- Header -->
  <div class="mb-8">
    <button
  class="flex items-center text-gray-600 mb-4 hover:text-gray-900 transition-colors cursor-pointer"
  (click)="navigateToDashboard()"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
  </svg>
  Back to Dashboard
</button>

    <h1 class="text-3xl font-bold text-gray-900">
      {{ todoId ? 'Edit Task' : 'Create New Task' }}
    </h1>
    <p class="text-gray-600 mt-2">
      {{ todoId ? 'Update the task details below' : 'Fill in the details to create a new task' }}
    </p>
  </div>

  <!-- Card -->
  <div class="bg-white shadow-lg rounded-xl p-6">
    <h2 class="text-xl font-semibold mb-6">{{ todoId ? 'Edit Task' : 'New Task' }}</h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Title -->
      <div class="space-y-2">
        <label for="title" class="block text-sm font-medium text-gray-700">Task Title *</label>
        <input
          id="title"
          type="text"
          formControlName="title"
          placeholder="Enter task title..."
          class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
          [class.border-red-500]="form.controls['title'].invalid && form.controls['title'].touched"
        />
        <div *ngIf="form.controls['title'].invalid && form.controls['title'].touched" class="text-red-600 text-sm">
          Title is required
        </div>
      </div>

      <!-- Description -->
      <div class="space-y-2">
        <label for="description" class="block text-sm font-medium text-gray-700">Description *</label>
        <textarea
          id="description"
          formControlName="description"
          placeholder="Enter task description..."
          class="w-full border rounded-lg px-3 py-2 min-h-[100px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
          [class.border-red-500]="form.controls['description'].invalid && form.controls['description'].touched"
        ></textarea>
        <div *ngIf="form.controls['description'].invalid && form.controls['description'].touched" class="text-red-600 text-sm">
          Description is required
        </div>
      </div>

      <!-- Status & Due Date -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-2">
          <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
          <select
            id="status"
            formControlName="status"
            class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
          >
            <option value="" disabled>Select status</option>
            <option value="pending">Pending</option>
            <option value="inProgress">In Progress</option>
            <option value="completed">Completed</option>
          </select>
        </div>

        <div class="space-y-2">
          <label for="dueDate" class="block text-sm font-medium text-gray-700">Due Date *</label>
          <input
            id="dueDate"
            type="date"
            formControlName="dueDate"
            class="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
            [class.border-red-500]="form.controls['dueDate'].invalid && form.controls['dueDate'].touched"
          />
          <div *ngIf="form.controls['dueDate'].invalid && form.controls['dueDate'].touched" class="text-red-600 text-sm">
            Due Date is required
          </div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="flex gap-4 pt-6">
        <button
          type="submit"
          class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-5 py-2 rounded-lg flex items-center justify-center gap-2 transition"
          [disabled]="loading()"
        >
          <svg *ngIf="loading()" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 animate-spin" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v4m0 8v4m8-8h-4M4 12H0" />
          </svg>
          {{ todoId ? (loading() ? 'Updating...' : 'Update Task') : (loading() ? 'Creating...' : 'Create Task') }}
        </button>

        <button
          type="button"
          class="border border-gray-300 px-5 py-2 rounded-lg hover:bg-gray-50 transition"
          (click)="navigateToDashboard()"
          [disabled]="loading()"
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
